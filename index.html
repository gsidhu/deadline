<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Deadline</title>

  <link rel="canonical" href="https://thatgurjot.com/deadline/sept.html">
  <title>Deadline</title>
  <!-- Bootstrap v5.2.0 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  <!-- Confetti animation -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <!-- jQuery 3.6.0 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <!-- HTML Calendar -->
  <script src="./html-calendar.js"></script>
  <!-- Goatcounter -->
  <script data-goatcounter="https://thatgurjot.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

  <meta name="description" content="Meet your writing deadline." />
  <meta property="og:description" content="Meet your writing deadline.">
  <meta name="twitter:description" content="Meet your writing deadline.">
  <meta property="og:url" content="https://thatgurjot.com/deadline/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Deadline">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="thatgurjot.com">
  <meta property="twitter:url" content="https://thatgurjot.com/deadline/">
  <meta name="twitter:title" content="Deadline">

  
  <meta itemprop="image" content="https://thatgurjot.com/deadline/deadline-social-image.png" />
  <meta property="og:image" content="https://thatgurjot.com/deadline/deadline-social-image.png" />
  <meta name="twitter:image" content="https://thatgurjot.com/deadline/deadline-social-image.png" />
  <meta name="twitter:image:src" content="https://thatgurjot.com/deadline/deadline-social-image.png" /> 
  
  <meta name="author" content="Gurjot." />

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <style>
    th, td {
      text-align: center;
    }
    .red {
      background-color: #dc3545 !important;
      color: white;
    }
    .green {
      background-color: #198754 !important;
      color: white;
    }
    #yes-msg, #no-msg, #modal-done-text {
      display: none;
    }
    #progress-done {
      color: white;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="navbar navbar-dark bg-dark shadow-sm">
      <div class="container">
        <div href="#" class="navbar-brand d-flex align-items-center">
          <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-mortarboard mx-2" viewBox="0 0 16 16"><path d="M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917l-7.5-3.5ZM8 8.46 1.758 5.965 8 3.052l6.242 2.913L8 8.46Z"/><path d="M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466 4.176 9.032Zm-.068 1.873.22-.748 3.496 1.311a.5.5 0 0 0 .352 0l3.496-1.311.22.748L8 12.46l-3.892-1.556Z"/></svg>
          </div>
          <div>
            <span style="text-align: center;"><strong id="headline">Let's do this!</strong></span>
          </div>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal" aria-label="Open modal">
          <!-- <span class="navbar-toggler-icon"></span> -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" class="bi bi-gear" viewBox="0 0 16 16">
            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
          </svg>
        </button>
      </div>
    </div>
    
  </header>
  
  <main>
    <!-- Hero container -->
    <section class="py-3 text-center container">
      <div class="row py-lg-4">
        <div class="col-xl-6 col-lg-8 mx-auto">
          <h1 class="fw-light py-2" id="msg">Did you write <span id="daily-word-target">1000</span> <span class='words-or-pages'>words</span> today?</h1>
          <h1 class="fw-light py-2" id="yes-msg">Yay! Way to go! <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-suit-heart-fill" viewBox="0 0 16 16">
            <path d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"/>
          </svg></h1>
          <h1 class="fw-light py-2" id="no-msg">Issokay bb I still love you :*</h1>
          <!-- Yes / No buttons -->
          <p class="py-2" id="yes-no-buttons">
            <button class="btn btn-success my-2 mx-3" style="width: 7rem; line-height: 2rem;" onclick="addWords(localStorage.getItem('daily-target'))">Yes!</button>
            <button href="#" class="btn btn-warning my-2 mx-3" style="width: 7rem; line-height: 2rem;" onclick="noWords()">No</button>
          </p>

          <!-- Progress bars -->
          <div class="progress" style="height: 20px; line-height: 20px; font-size: 16px;">
            <div id="progress-done" class="progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-label="Segment one" style="width: 0%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
            <div id="progress-left" class="progress-bar-striped bg-warning progress-bar-animated" role="progressbar" aria-label="Segment two" style="width: 100%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
          </div>

          <p id="words-msg" class="lead text-muted py-2">You have written <span id="words-written"></span> <span class='words-or-pages'>words</span> so far and have <span id='words-left'></span> <span class='words-or-pages'>words</span> left out of <span id='total-words'></span>.</p>
        </div>
      </div>

      <!-- Change word count and Celebrate buttons -->
      <div class="row row-cols-1 row-cols-md-2">
        <div class="col my-1">
          <button id="change-word-count-btn" class="btn btn-primary mx-2" onclick="toggleWordInput()">Change word count</button>
          <div id="word-input" class="col d-none  my-1 align-self-center">
            <form class="mx-2">
              <input id="word-count-input" type="number" style="width: 145px">
              <svg onclick="changeWordCount()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
              <!-- <svg onclick="changeWordCount()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg> -->
            </form>
          </div>
        </div>
        <div class="col my-1 align-self-center">
          <button id='celebrate-btn' class='btn btn-danger' onclick="celebrate()">Celebrate!</button>
        </div>
      </div>
    </section>

    <!-- Calendar -->
    <div class="album py-5 bg-light">
      <div class="container">
        <p class="text-center lead text-muted">You have <span id="days-left" style="text-decoration: underline;"></span><span style="text-decoration: underline;"> days</span> till your deadline (<span id='deadline-date'></span>).</p>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 justify-content-center" id="insert-calendars">
        </div>
      </div>
    </div>
  </main>  

  <!-- Editing modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit parameters</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="word-input" class="col my-1 align-self-center">
            <form class="mx-2">
              <p class="mb-1">Deadline</p>
              <input id="deadline-input" placeholder="2022-12-30">
              <svg onclick="modalChangeDeadline()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
              
              <p class="mb-1 mt-3">Target count</p>
              <input id="target-count-input" type="number" placeholder="25000">
              <svg onclick="modalChangeTargetWordCount()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
              
              <p class="mb-1 mt-3">Daily target</p>
              <input id="daily-target-input" type="number" placeholder="1000">
              <svg onclick="modalChangeDailyTarget()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
              
              <p class="mb-1 mt-3">Headline</p>
              <input id="headline-input" type="text" placeholder="Let's goooooo!">
              <svg onclick="modalChangeHeadline()" style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
              
              <p class="mb-1 mt-3">Pages or words</p>
              <select name="words-pages" id="words-pages" onchange="wordsOrPagesFunc()">
                <option value="pages">Pages</option>
                <option value="words">Words</option>
              </select>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <p id="modal-done-text">Done!</p>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="text-muted py-5">
    <div class="container">
      <p class="float-end mb-0">I love you.</p>
      <p class="mb-0">You got this.</p>
      <p class="text-center mb-0 pt-5 pb-0" onclick="firstSetup()" style="text-decoration: underline; cursor: pointer;"><small>reset.</small></p>
    </div>
  </footer>

  <script>
    function modalChangeDeadline() {
      colorDeadlineDate(0)
      let deadline = document.getElementById('deadline-input').value
      if (deadline.match(/\d{4}-\d{2}-\d{2}/)) {
        localStorage.setItem('deadline', deadline)
        document.getElementById('deadline-date').textContent = deadline
        calculateDaysLeft()
        changeModalCloseButton()
        addMonthsToDom()
        addCalendarToDOM(compactCal)
        colorDeadlineDate(1)
      }
    }
    function modalChangeTargetWordCount() {
      let targetCount = document.getElementById('target-count-input').value
      localStorage.setItem('target-words', targetCount)
      document.getElementById('total-words').textContent = targetCount
      calculateProgress()
      updateWordCount()
      changeModalCloseButton()
    }
    function modalChangeDailyTarget() {
      let dailyTarget = document.getElementById('daily-target-input').value
      localStorage.setItem('daily-target', dailyTarget)
      updateDailyTarget()
      changeModalCloseButton()
    }
    function modalChangeHeadline() {
      let headline = document.getElementById('headline-input').value
      localStorage.setItem('headline', headline)
      document.getElementById('headline').textContent = headline
      changeModalCloseButton()
    }
    function wordsOrPagesFunc() {
      localStorage.setItem("words-or-pages", document.getElementById('words-pages').value)
      updateWordsOrPages()
      changeModalCloseButton()
    }
    function changeModalCloseButton() {
      $('#modal-done-text').fadeIn('slow')
      $('#modal-done-text').fadeOut('slow')
    }

    function firstSetup() {
      const date = new Date();
      var month = date.getMonth() + 2
      if (month < 10) { month = '0' + toString(month) }
      var year = date.getFullYear()
      if (parseInt(month) === 12) { 
        year = parseInt(year) + 1 
      }
      var deadlineDate = year + '-' + month + '-15'

      localStorage.setItem('words-written', 0)
      localStorage.setItem('target-words', 25000)
      localStorage.setItem('daily-target', 1000)
      localStorage.setItem('deadline', deadlineDate)
      localStorage.setItem('headline', "Let's do this!")
      localStorage.setItem('words-or-pages', "words")
      calculateDaysLeft()
      calculateProgress()
      updateWordCount()
      updateDailyTarget()
    }

    function updateDailyTarget() {
      document.getElementById('daily-word-target').textContent = localStorage.getItem('daily-target')
    }
    function updateWordsOrPages() {
      var localWordsorPages = localStorage.getItem('words-or-pages')
      document.getElementById('words-pages').value = localWordsorPages
      let wops = document.getElementsByClassName('words-or-pages')
      for (wop of wops) {
        wop.innerText = localWordsorPages
      }
    }

    function calculateDaysLeft() {
      const date = new Date();
      const deadline = new Date(localStorage.getItem('deadline'));
      const diffTime = Math.abs(deadline - date);
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      document.getElementById('days-left').textContent = diffDays
    }

    function addWords(newWords) {
      let words = localStorage.getItem('words-written')
      words = parseInt(words) + parseInt(newWords)
      localStorage.setItem('words-written', words)
      updateWordCount()
      celebrate()
      document.getElementById('msg').classList.add('d-none')
      $("#yes-msg").fadeIn("slow");
      $("#yes-no-buttons").animate({"opacity": 0.01}, 800)
      $("button").prop("disabled",true);
      $("#change-word-count-btn").prop("disabled",false);
      $("#celebrate-btn").prop("disabled",false);
    }

    function updateWordCount() {
      document.getElementById('words-written').textContent = localStorage.getItem('words-written')
      let wordsLeft = parseInt(localStorage.getItem('target-words')) - parseInt(localStorage.getItem('words-written'))
      if (wordsLeft > 0) {
        document.getElementById('words-left').textContent = wordsLeft
      } else if (wordsLeft < 0) {
        document.getElementById('words-msg').textContent = "Hot damn! Blowing past the finish line. Love it."
        document.getElementById('msg').textContent = "CELEBRATIONS!"
        celebrate()
      } else {
        document.getElementById('words-msg').textContent = "YOU DID IT!!!"
        document.getElementById('msg').textContent = "CELEBRATIONS!"
        celebrate()
      }
      calculateProgress()
    }

    function toggleWordInput() {
      $('#change-word-count-btn').addClass('d-none')
      document.getElementById("word-input").classList.toggle('d-none')
    }

    function changeWordCount() {
      const words = document.getElementsByTagName('input')[0].value
      if (words.match(/^[0-9]+$/)) {
        const prevWords = localStorage.getItem('words-written')
        if (prevWords < words) {celebrate()}
        localStorage.setItem('words-written', words)
        updateWordCount()
        toggleWordInput()
        document.getElementsByTagName('input')[0].value = ''
        $('#change-word-count-btn').removeClass('d-none')
      } else {
        document.getElementsByTagName('input')[0].value = ''
      }
    }

    function calculateProgress() {
      let done = (100*parseInt(localStorage.getItem('words-written')))/parseInt(localStorage.getItem('target-words'))
      if (done <= 100) {
        document.getElementById("progress-done").style.width = done + '%'
        document.getElementById("progress-left").style.width = 100 - done + '%'
        document.getElementById("progress-done").textContent = done.toFixed(1) + '%'
        document.getElementById("progress-left").textContent = (100 - done).toFixed(1) + '%'
      } else {
        document.getElementById("progress-done").style.width = done + '%'
        document.getElementById("progress-done").textContent = (done).toFixed(1) + '%'
        document.getElementById("progress-left").style.width = 0
      }
    }
    
    function celebrate() {
      let xray = Math.random()
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6, x: xray > 0.7 | xray < 0.3 ? 0.5 : xray }
      });
    }

    function noWords() {
      document.getElementById('msg').classList.add('d-none')
      const rando = Math.random()
      if (rando < 0.33) {
        $('#no-msg').text("You are amazing and nothing will change that <3")
      } else if (rando < 0.66 && rando >= 0.33) {
        $('#no-msg').text("It's okay to rest sometimes :)")
      } else {
        $('#no-msg').text("Issokay bb you got this :)")
      }
      $("#no-msg").fadeIn("slow");
      $("#yes-no-buttons").animate({"opacity": 0.01}, 800)
      $("button").prop("disabled",true);
      $("#change-word-count-btn").prop("disabled",false);
      $("#celebrate-btn").prop("disabled",false);
    }

    function addMonthsToDom() {
      let today = new Date()
      let presentMonth = today.getMonth()
      let deadlineMonth = parseInt(localStorage.getItem('deadline').split('-')[1])
      let startYear = today.getFullYear()
      let endYear = parseInt(localStorage.getItem('deadline').split('-')[0])
      let monthsAdded = 0

      // calculate total months
      let totalMonths = 0
      if (startYear === endYear) {
        totalMonths = deadlineMonth - presentMonth
      } else {
        totalMonths = 12 + deadlineMonth - presentMonth
      }

      let outerDiv = document.getElementById('insert-calendars')

      while (monthsAdded < totalMonths) {
        let monYe = ''
        if ((presentMonth+monthsAdded) % 12 >= presentMonth) {
          monYe = startYear + '-' + (presentMonth + monthsAdded + 1) // +1 to adjust for array start from 0
        } else {
          monYe = endYear + '-' + ((presentMonth + monthsAdded)%12 + 1) // +1 to adjust for array start from 0
        }
        monthsAdded += 1
        // check if the month is already in the DOM
        if (mYArray.indexOf(monYe) === -1) {
          mYArray.push(monYe)
          let col = document.createElement('div')
          let card = document.createElement('div')
          card.classList.add('card', 'shadow-sm')
          let calOuter = document.createElement('div')
          calOuter.classList.add('html-calendar', 'card-body')
          calOuter.setAttribute('id', monYe)
          card.appendChild(calOuter)
          col.appendChild(card)
          outerDiv.appendChild(col)
        }
      }
    }

    function updateLocalStorage() {
      let idealLS = { "deadline": "2022-09-30", "target-words": "25000", "headline": "Let's do this!",  "daily-target": "1000", "words-written": "0", "words-or-pages": "words"}
      let idealKeys = Object.keys(idealLS)
      let lsKeys = Object.keys(localStorage)
      for (key of idealKeys) {
        if (lsKeys.indexOf(key) < 0) {
          localStorage.setItem(key, idealLS[key])
        }
      }
    }

    // on each load
    let compactCal = false
    let mYArray = []
    var inputElements = document.getElementsByTagName("input");
    for (var ii=0; ii < inputElements.length; ii++) {
      inputElements[ii].value = "";
    }
    if (localStorage.length < 5) { 
      firstSetup()
    }
    document.getElementById('total-words').textContent = localStorage.getItem('target-words')
    document.getElementById('deadline-date').textContent = localStorage.getItem('deadline')
    document.getElementById('headline').textContent = localStorage.getItem('headline')
    updateLocalStorage()
    updateDailyTarget()
    updateWordCount()
    updateWordsOrPages()
    calculateProgress()
    calculateDaysLeft()
    addMonthsToDom()
    addCalendarToDOM(compactCal)

    document.querySelector("#word-count-input").addEventListener("keydown", event => {
      if(event.key === "Enter") {changeWordCount();}
    });
    document.querySelector("#deadline-input").addEventListener("keydown", event => {
      if(event.key === "Enter") {modalChangeDeadline();}
    });
    document.querySelector("#target-count-input").addEventListener("keydown", event => {
      if(event.key === "Enter") {modalChangeTargetWordCount();}
    });
    document.querySelector("#daily-target-input").addEventListener("keydown", event => {
      if(event.key === "Enter") {modalChangeDailyTarget();}
    });
    document.querySelector("#headline-input").addEventListener("keydown", event => {
      if(event.key === "Enter") {modalChangeHeadline();}
    });
  </script>

  <!-- Add colour to calendar -->
  <script>
    let today = new Date()
    let table = document.getElementsByClassName('html-calendar')[0]
    colorDates(table, [[1,today.getDate()-1,"red","white"],[today.getDate(), today.getDate(),"green","white"]])

    function colorDeadlineDate(on) {
      // colour deadline date
      let deadlineDate = localStorage.getItem('deadline')
      let items = deadlineDate.split('-')
      if (items[1][0] === "0") { items[1] = items[1][1]}
      if (items[2][0] === "0") { items[2] = items[2][1]}
      deadlineDate = items[0] + "-" + items[1] + "-" + items[2]
      let el = document.getElementsByClassName(deadlineDate)[0]
      if (on) { el.style.backgroundColor = "gainsboro" }
      else { el.style.backgroundColor = "white" }
    }

    colorDeadlineDate(1)
  </script>
</body>
</html>